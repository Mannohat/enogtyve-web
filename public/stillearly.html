<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Enogtyve: Bitcoin blokkæden</title>
    <link rel="icon" href="public/images/mediekit/enogtyve24_favicon.png" type="image/x-icon">

    <!-- Styles -->
    <style>
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --highlight-color: #F7931A;
            --font-family: 'Arial', sans-serif;
            --scrollbar-bg: rgba(0, 0, 0, 0.8);
            --scrollbar-thumb: #F7931A;
        }

        /* General Styles */
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-family);
            text-align: center;
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            width: 100%;
            text-align: center;
            background-color: var(--bg-color);
            padding: 20px 0;
            flex-shrink: 0;
            position: relative;
        }

        header img {
            width: 100%;
            max-width: 400px;
            height: auto;
            margin: 0 auto;
        }

        .language-switcher {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .language-switcher a {
            color: white;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            padding: 5px 10px;
        }

        .language-switcher a.selected {
            font-weight: bold;
            color: var(--highlight-color);
        }

        /* Main Content Styles */
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            flex-grow: 1;
            margin-top: 50px;
        }

        .circle {
            position: relative;
            width: min(35vw, 300px);
            height: min(35vw, 300px);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #000000;
            background: conic-gradient(var(--highlight-color) 0%, var(--bg-color) 0%);
            border: 8px solid var(--highlight-color);
            transition: background 1s ease-in-out;
            animation: pulse 2s infinite;
        }

        .inner-circle {
            position: absolute;
            width: 70%;
            height: 70%;
            border-radius: 50%;
            background: radial-gradient(circle, white 0%, var(--highlight-color) 100%);
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .block-label {
            color: black;
            margin: 0;
            font-weight: bold;
            font-size: min(1.8vw, 14px);
        }

        #block-height {
            color: black;
            margin: 0;
            font-weight: bold;
            font-size: min(3vw, 18px);
        }

        .progress-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 50px;
            width: 95vw;
            padding-bottom: 10px;
            overflow: visible;
        }

        .block {
            width: 3vw;
            height: 3vw;
            margin: 1px;
            border-radius: 3px;
            border: 2px solid transparent;
            background-color: transparent;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .block:hover {
            transform: scale(1.2);
        }

        .block.filled {
            background-color: var(--highlight-color);
            box-shadow: 0 0 10px rgba(247, 147, 26, 0.5);
        }

        .block.outline {
            border-color: var(--highlight-color);
            background-color: transparent;
        }

        .current-block {
            animation: bounce 1s infinite ease-in-out;
        }

        .fill {
            height: 100%;
            background-color: rgba(247, 147, 26, 1);
            position: absolute;
            top: 0;
            left: 0;
        }

        .eternity-symbol {
            color: white;
            font-size: 90%;
            line-height: 1;
        }

        /* Keyframes */
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(247, 147, 26, 0.7);
            }

            70% {
                transform: scale(1.05);
                box-shadow: 0 0 30px 30px rgba(247, 147, 26, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(247, 147, 26, 0);
            }
        }

        @keyframes bounce {
            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-8px);
            }
        }

        /* Boxes */
        #epoch-info,
        .statistik-box,
        .mere-box,
        .lolz-box {
            position: relative;
            background-color: var(--bg-color);
            border: 3px solid var(--highlight-color);
            border-radius: 15px;
            padding: 10px;
            color: var(--text-color);
            width: 90%;
            max-width: 500px;
            min-width: 280px;
            margin: 20px 0; /* Consistent margin for all boxes */
        }

        #epoch-info h2,
        .statistik-box h2,
        .mere-box h2,
        .lolz-box h2 {
            font-size: 24px;
            color: var(--highlight-color);
            margin-bottom: 10px;
        }

        .stat-item,
        .lolz-item {
            font-size: 14px;
            margin: 0;
            color: var(--text-color);
            border: 1px solid var(--highlight-color);
            padding: 5px;
            border-radius: 5px;
        }

        #subsidy-list {
            list-style-type: none;
            padding-left: 0;
            font-size: 14px;
            margin: 0;
            color: white;
            padding-right: 5px;
            max-height: 100px;
            overflow-y: auto;
        }

        #subsidy-list li {
            padding: 10px 15px;
            margin-bottom: 5px;
            background-color: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            transition: background 0.3s, transform 0.2s;
            font-size: 16px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        #subsidy-list li:hover {
            background-color: rgba(247, 147, 26, 0.15);
            transform: scale(1.02);
        }

        .current-epoch-highlight {
            color: var(--highlight-color);
            font-weight: bold;
            background-color: rgba(247, 147, 26, 0.4);
            font-size: 18px;
        }

        .orange-text {
            color: var(--highlight-color);
        }

        .update-timer {
            font-size: 16px;
            color: white;
            margin-top: 20px;
        }

        /* Scrollbar Styles */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--scrollbar-bg);
        }

        ::-webkit-scrollbar-thumb {
            background-color: var(--scrollbar-thumb);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: var(--highlight-color);
        }

        /* Boxes Container */
        .boxes-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin-top: 20px;
        }

        .boxes-container > * {
            margin-top: 20px;
            margin-bottom: 20px;
        }
    </style>

    <!-- Script Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js" defer></script>
</head>

<body>
    <!-- Header Section -->
    <header>
        <a href="https://www.enogtyve.org" target="_blank">
            <img src="/images/logos/enogtyve_logo.png">
        </a>
        <div class="language-switcher">
            <a id="lang-dansk" class="selected">Dansk</a>
            <a id="lang-english">English</a>
        </div>
    </header>

    <!-- Main Content Section -->
    <main>
        <a class="circle-link" href="https://mempool.space" target="_blank">
            <div class="circle" id="progress-circle">
                <div class="inner-circle">
                    <div class="block-label" id="block-label-text">BLOKHØJDE</div>
                    <div id="block-height">Indlæser...</div>
                </div>
            </div>
        </a>

        <div class="progress-bar" id="progress-bar"></div>

        <!-- Update countdown section -->
        <div class="update-timer" id="update-timer">
            <span id="update-text">Updates every 21 seconds:</span> <span id="countdown">21</span>
        </div>
        
        <div class="boxes-container">
            <div id="epoch-info">
                <h2 id="early-message">Yes, du er stadig tidligt ude!</h2>
                <p id="epoch-status">Nuværende epoke: <span class="orange-text">0</span> af de i alt 33 epoker.</p>
                <ul id="subsidy-list"></ul>
            </div>

            <div class="statistik-box">
                <h2 id="statistics-header">Statistik</h2>
                <div class="stat-item" id="current-epoch">Nuværende epoke: Indlæser...</div>
                <div class="stat-item" id="blocks-in-current-epoch">Blokke minet denne epoke: Indlæser...</div>
                <div class="stat-item" id="blocks-until-next-epoch">Blokke til næste epoke: Indlæser...</div>
                <div class="stat-item" id="btc-price">1 bitcoin kan i dag købes for: Indlæser... DKK</div>
                <div class="stat-item" id="sats-per-dkk">Sats pr. DKK: Indlæser...</div>
            </div>

            <div class="mere-box">
                <h2>Mere</h2>
                <table style="width:100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background-color: rgba(247, 147, 26, 0.2);">
                            <th style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Link name</th>
                            <th style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hoverable-row" onclick="window.open('https://www.mempool.space', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Mempool.space</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Udforsk Bitcoin Blockchain</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://timechaincalendar.com/en', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Timechaincalendar</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Live information og statistik</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://www.utxo.live', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">UTXO.live</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">UTXO explorer</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://miningpool.observer/', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Miningpool.observer</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Miningpool explorer</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://bitfeed.live/', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Bitfeed</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Block visualizer</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://bitcoin.clarkmoody.com/dashboard/', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Clark Moody Dashboard</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Bitcoin info og statistik</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://timechainstats.com/', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Timechainstats.com</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Bitcoin info og statistik</td>
                        </tr>
                        <tr class="hoverable-row" onclick="window.open('https://luke.dashjr.org/programs/bitcoin/files/charts/software.html', '_blank')">
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Nodes chart (Luke Dash Jr)</td>
                            <td style="border: 1px solid var(--highlight-color); padding: 8px; color: var(--highlight-color);">Bitcoin node diagram</td>
                        </tr>
                    </tbody>
                </table>
            </div>

<style>
    /* Hover effect for the rows */
    .hoverable-row:hover {
        background-color: rgba(247, 147, 26, 0.2);
        cursor: pointer;
    }
</style>


<style>
    /* Hover effect for the rows */
    .hoverable-row:hover {
        background-color: rgba(247, 147, 26, 0.2);
    }
</style>


<style>
    /* Hover effect for links and descriptions */
    a:hover {
        color: #ffffff !important;
    }

    td:hover {
        color: #ffffff;
    }
</style>


<style>
    /* Hover effect for links and descriptions */
    a:hover {
        color: #ffffff;
    }

    td:hover {
        color: #ffffff;
    }
</style>



    <div class="lolz-box">
                <h2>Lolz</h2>
                <div class="lolz-item" id="birds-cigaret-salg">Bird's cigaret salg 2/2 2024: Indlæser... DKK</div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script>
        const blocksPerEpoch = 210000;
        let previousBlockHeight = null;
        let isFirstLoad = true;
        let countdownValue = 21;
        let countdownInterval;

        const translations = {
    dansk: {
        earlyMessage: "Yes, du er stadig tidligt ude!",
        statistics: "Statistik",
        currentEpoch: "Nuværende epoke:",
        totalEpochs: "af de i alt 33 epoker",
        blocksMined: "Blokke minet denne epoke:",
        blocksUntilNext: "Blokke til næste epoke:",
        btcPrice: "1 bitcoin kan i dag købes for:",
        birdsCigaret: "Bird's cigaret salg 2/2 2024:",
        blockHeightLabel: "BLOKHØJDE",
        updatesEverySeconds: "Opdaterer hvert {{interval}} sekund:",
        more: "Mere", // Tilføjet oversættelse for "Mere" sektionens overskrift
        description: "Beskrivelse", // Tilføjet oversættelse for "Description"
        links: {
            mempool: "Udforsk Bitcoin Blokkæden",
            timechain: "Live information og statistik",
            utxo: "UTXO explorer",
            miningpool: "Miningpool explorer",
            bitfeed: "Blok visualisering",
            clarkMoody: "Bitcoin info og statistik",
            timechainStats: "Bitcoin info og statistik",
            nodesChart: "Bitcoin knudepunkt diagram"
        }
    },
    english: {
        earlyMessage: "Yes, you are still early!",
        statistics: "Statistics",
        currentEpoch: "Current epoch:",
        totalEpochs: "out of 33 total epochs",
        blocksMined: "Blocks mined in this epoch:",
        blocksUntilNext: "Blocks until next epoch:",
        btcPrice: "1 bitcoin can be bought today for:",
        birdsCigaret: "Bird's cigarette sale 2/2 2024:",
        blockHeightLabel: "BLOCK HEIGHT",
        updatesEverySeconds: "Updates every {{interval}} seconds:",
        more: "More", // Tilføjet oversættelse for "More" sektionens overskrift
        description: "Description", // Tilføjet oversættelse for "Description"
        links: {
            mempool: "Explore Bitcoin Blockchain",
            timechain: "Live information and statistics",
            utxo: "UTXO explorer",
            miningpool: "Mining pool explorer",
            bitfeed: "Block visualizer",
            clarkMoody: "Bitcoin info and statistics",
            timechainStats: "Bitcoin info and statistics",
            nodesChart: "Bitcoin node diagram"
        }
    }
};



        let currentLanguage = 'dansk';

        async function fetchBitcoinPrice() {
    try {
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=dkk');
        const data = await response.json();
        const bitcoinPriceDkk = data.bitcoin.dkk;

        const satsValueInDkk = (bitcoinPriceDkk * 1008) / 100_000_000;
        const satsPerDkk = (100_000_000 / bitcoinPriceDkk).toFixed(0);

        // Beregner Fiat gainz korrekt
        const fiatGainz = (((satsValueInDkk / 3) - 1) * 100).toFixed(2);

        // Opdaterer visningen med Fiat gainz for Bird's cigaret salg
        document.getElementById('btc-price').textContent = `${translations[currentLanguage].btcPrice} ${bitcoinPriceDkk.toLocaleString('da-DK', { minimumFractionDigits: 2, maximumFractionDigits: 2 })} DKK`;
        document.getElementById('sats-per-dkk').textContent = `Sats pr. DKK: ${satsPerDkk}`;
        document.getElementById('birds-cigaret-salg').textContent = `${translations[currentLanguage].birdsCigaret} ${satsValueInDkk.toLocaleString('da-DK', { minimumFractionDigits: 2, maximumFractionDigits: 2 })} DKK (Fiat gainz: ${fiatGainz}%)`;
    } catch (error) {
        console.error('Error fetching Bitcoin price:', error);
        document.getElementById('btc-price').textContent = "Unable to load price.";
    }
}



        async function fetchBlockHeight() {
            try {
                const response = await fetch('https://mempool.space/api/blocks/tip/height');
                const newBlockHeight = await response.json();
                document.getElementById('block-height').textContent = newBlockHeight.toLocaleString('da-DK');

                if (previousBlockHeight && newBlockHeight > previousBlockHeight) {
                    launchConfetti();
                }

                previousBlockHeight = newBlockHeight;
                updateEpochData(newBlockHeight);
                adjustCircleText();
            } catch (error) {
                console.error('Error fetching block height:', error);
            }
        }

        function updateEpochData(blockHeight) {
            const currentEpoch = Math.floor(blockHeight / blocksPerEpoch) + 1;
            const blocksMinedInEpoch = blockHeight % blocksPerEpoch;
            const blocksUntilNextEpoch = blocksPerEpoch - blocksMinedInEpoch;
            const epochCompletionPercentage = ((blocksMinedInEpoch / blocksPerEpoch) * 100).toFixed(2);
            const blocksUntilNextEpochPercentage = (100 - epochCompletionPercentage).toFixed(2);

            document.getElementById('current-epoch').textContent = `${translations[currentLanguage].currentEpoch} ${currentEpoch}`;
            document.getElementById('blocks-in-current-epoch').textContent = `${translations[currentLanguage].blocksMined} ${blocksMinedInEpoch.toLocaleString('da-DK')} (${epochCompletionPercentage}%)`;
            document.getElementById('blocks-until-next-epoch').textContent = `${translations[currentLanguage].blocksUntilNext} ${blocksUntilNextEpoch.toLocaleString('da-DK')} (${blocksUntilNextEpochPercentage}%)`;
            document.getElementById('epoch-status').innerHTML = `${translations[currentLanguage].currentEpoch} <span class="orange-text">${currentEpoch}</span> ${translations[currentLanguage].totalEpochs}`;
            updateProgressCircle(epochCompletionPercentage);
            updateProgressBar(blockHeight, currentEpoch);
            updateSubsidyList(currentEpoch);
        }

        function updateProgressCircle(epochCompletionPercentage) {
            const circle = document.getElementById('progress-circle');
            circle.style.background = `conic-gradient(var(--highlight-color) ${epochCompletionPercentage}%, var(--bg-color) ${epochCompletionPercentage}%)`;
        }

        function updateProgressBar(blockHeight, currentEpoch) {
            const progressBar = document.getElementById('progress-bar');
            progressBar.innerHTML = '';

            const completedHalvings = Math.min(currentEpoch - 1, 33);
            const blocksMinedInEpoch = blockHeight % blocksPerEpoch;
            const blockWidth = progressBar.clientWidth / 33 - 3;

            for (let i = 0; i < 33; i++) {
                const block = document.createElement('div');
                block.className = 'block';
                block.style.width = block.style.height = `${blockWidth}px`;

                if (i < completedHalvings) {
                    block.classList.add('filled');
                } else if (i === completedHalvings) {
                    const fillDiv = document.createElement('div');
                    const fillPercentage = (blocksMinedInEpoch / blocksPerEpoch) * 100;
                    fillDiv.className = 'fill';
                    fillDiv.style.width = `${fillPercentage}%`;
                    block.appendChild(fillDiv);
                    block.classList.add('outline', 'current-block');
                } else {
                    block.classList.add('outline');
                }

                if (i === 32) {
                    const infinitySymbol = document.createElement('span');
                    infinitySymbol.className = 'eternity-symbol';
                    infinitySymbol.innerHTML = '&infin;';
                    block.appendChild(infinitySymbol);
                }

                progressBar.appendChild(block);
            }
        }

        function updateSubsidyList(currentEpoch) {
            const subsidyList = document.getElementById('subsidy-list');
            subsidyList.innerHTML = '';

            let subsidy = 50;
            let totalBitcoin = subsidy * blocksPerEpoch;

            for (let i = 1; i <= 33; i++) {
                const li = document.createElement('li');

                if (i === currentEpoch) {
                    li.classList.add('current-epoch-highlight');
                }

                if (i > 1) {
                    subsidy /= 2;
                }

                totalBitcoin = subsidy * blocksPerEpoch;
                const subsidyFormatted = subsidy.toFixed(8);
                const totalBitcoinFormatted = totalBitcoin.toLocaleString('da-DK', { minimumFractionDigits: 4, maximumFractionDigits: 4 });

                li.textContent = currentLanguage === 'dansk'
                    ? `${i}. Epoke: ${subsidyFormatted} BTC pr. blok (Total: ${totalBitcoinFormatted} BTC)`
                    : `${i}. Epoch: ${subsidyFormatted} BTC per block (Total: ${totalBitcoinFormatted} BTC)`;

                subsidyList.appendChild(li);
            }

            const currentEpochElement = subsidyList.querySelector('.current-epoch-highlight');
            if (currentEpochElement) {
                currentEpochElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function adjustCircleText() {
            const circle = document.querySelector('.inner-circle');
            const blockLabel = document.getElementById('block-label-text');
            const blockHeight = document.getElementById('block-height');

            const circleWidth = circle.offsetWidth;
            blockLabel.style.fontSize = `${circleWidth * 0.1}px`;
            blockHeight.style.fontSize = `${circleWidth * 0.15}px`;
        }

        function launchConfetti() {
            const circle = document.getElementById('progress-circle');
            const circleRect = circle.getBoundingClientRect();

            confetti({
                particleCount: 100,
                angle: 90,
                spread: 360,
                origin: {
                    x: (circleRect.left + circleRect.width / 2) / window.innerWidth,
                    y: (circleRect.top + circleRect.height / 2) / window.innerHeight
                },
                emojis: ['₿'],
                emojiSize: 100
            });
        }

        function translatePage(language) {
    currentLanguage = language;

    const danskLink = document.getElementById('lang-dansk');
    const englishLink = document.getElementById('lang-english');

    danskLink.classList.remove('selected');
    englishLink.classList.remove('selected');

    if (language === 'dansk') {
        danskLink.classList.add('selected');
    } else {
        englishLink.classList.add('selected');
    }

    document.getElementById('early-message').textContent = translations[language].earlyMessage;
    document.getElementById('statistics-header').textContent = translations[language].statistics;
    document.getElementById('block-label-text').textContent = translations[language].blockHeightLabel;
    document.getElementById('update-text').textContent = translations[language].updatesEverySeconds.replace('{{interval}}', '21');
    document.querySelector('.mere-box h2').textContent = translations[language].more; // Opdaterer "Mere" sektionens overskrift
    document.querySelector('.mere-box thead th:nth-child(2)').textContent = translations[language].description; // Opdaterer "Description" overskriften

    // Opdater links beskrivelser
    document.querySelectorAll('.mere-box tbody tr').forEach((row, index) => {
        const linkKeys = Object.keys(translations[language].links);
        row.cells[1].textContent = translations[language].links[linkKeys[index]];
    });

    fetchBitcoinPrice();
    fetchBlockHeight();
}



        translatePage('dansk');

        document.getElementById('lang-dansk').addEventListener('click', () => translatePage('dansk'));
        document.getElementById('lang-english').addEventListener('click', () => translatePage('english'));

        window.addEventListener('resize', adjustCircleText);

        function startCountdown() {
            countdownValue = 21;
            document.getElementById('countdown').textContent = countdownValue;
            clearInterval(countdownInterval);

            countdownInterval = setInterval(() => {
                countdownValue--;
                document.getElementById('countdown').textContent = countdownValue;

                if (countdownValue === 0) {
                    countdownValue = 21;
                    fetchBitcoinPrice();
                    fetchBlockHeight();
                }
            }, 1000);
        }

        fetchBitcoinPrice();
        fetchBlockHeight();
        startCountdown();

        setInterval(() => {
            isFirstLoad = false;
            fetchBitcoinPrice();
            fetchBlockHeight();
            startCountdown();
        }, 21000);
    </script>
</body>

</html>
